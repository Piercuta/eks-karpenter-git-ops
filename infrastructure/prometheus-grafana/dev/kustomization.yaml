apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

helmCharts:
  - name: kube-prometheus-stack
    repo: https://prometheus-community.github.io/helm-charts
    version: 55.0.0
    releaseName: kube-prometheus-stack
    namespace: monitoring
    includeCRDs: true
    valuesFile: prometheus-values.yaml

resources:
  - ../base

# patches:
#   - path: patches/patch-prometheus-pvc-dev.yaml
#     target:
#       kind: StatefulSet
#       name: prometheus-kube-prometheus-prometheus
#       namespace: monitoring
#   - path: patches/patch-grafana-ingress-dev.yaml
#     target:
#       kind: Ingress
#       name: grafana-ingress
#       namespace: monitoring
